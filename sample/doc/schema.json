{"name":"Database Schema","desc":"Generated from Prisma schema using @prisma/generator-helper","tables":[{"name":"users","type":"table","comment":"User management with various constraints\nStores user account information including authentication details","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()","comment":"Primary key for user identification"},{"name":"email","type":"VARCHAR","nullable":false,"comment":"User email address for login and notifications"},{"name":"user_name","type":"VARCHAR","nullable":false,"comment":"Display name visible to other users"},{"name":"first_name","type":"VARCHAR","nullable":true,"comment":"User's first name (optional)"},{"name":"last_name","type":"VARCHAR","nullable":true,"comment":"User's last name (optional)"},{"name":"date_of_birth","type":"DATETIME","nullable":true,"comment":"User's birth date for age verification"},{"name":"is_active","type":"BOOLEAN","nullable":false,"default":"true","comment":"Account status flag for access control"},{"name":"created_at","type":"DATETIME","nullable":false,"default":"now()","comment":"Account creation timestamp"},{"name":"updated_at","type":"DATETIME","nullable":false,"comment":"Last profile update timestamp"}],"constraints":[{"name":"users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"users","columns":["id"]},{"name":"users_email_unique","type":"UNIQUE","def":"UNIQUE (email)","table":"users","columns":["email"]},{"name":"users_user_name_unique","type":"UNIQUE","def":"UNIQUE (user_name)","table":"users","columns":["user_name"]},{"name":"users_firstName_lastName_unique","type":"UNIQUE","def":"UNIQUE (firstName, lastName)","table":"users","columns":["firstName","lastName"]}]},{"name":"user_profiles","type":"table","comment":"One-to-one relationship for extended user information\nStores additional profile data not required for authentication","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()"},{"name":"user_id","type":"INTEGER","nullable":false},{"name":"bio","type":"VARCHAR","nullable":true},{"name":"website","type":"VARCHAR","nullable":true},{"name":"location","type":"VARCHAR","nullable":true},{"name":"avatar","type":"VARCHAR","nullable":true}],"constraints":[{"name":"user_profiles_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"user_profiles","columns":["id"]},{"name":"user_profiles_user_id_unique","type":"UNIQUE","def":"UNIQUE (user_id)","table":"user_profiles","columns":["user_id"]}]},{"name":"categories","type":"table","comment":"Content categorization system\nHierarchical category structure for organizing posts","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()"},{"name":"name","type":"VARCHAR","nullable":false},{"name":"slug","type":"VARCHAR","nullable":false},{"name":"description","type":"VARCHAR","nullable":true},{"name":"color","type":"VARCHAR","nullable":true},{"name":"parent_id","type":"INTEGER","nullable":true}],"constraints":[{"name":"categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"categories","columns":["id"]},{"name":"categories_name_unique","type":"UNIQUE","def":"UNIQUE (name)","table":"categories","columns":["name"]},{"name":"categories_slug_unique","type":"UNIQUE","def":"UNIQUE (slug)","table":"categories","columns":["slug"]}]},{"name":"posts","type":"table","comment":"Blog post content management\nSupports drafts, publishing, and archiving with author attribution","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()","comment":"Unique post identifier"},{"name":"title","type":"VARCHAR","nullable":false,"comment":"Post title displayed in listings and detail view"},{"name":"slug","type":"VARCHAR","nullable":false,"comment":"URL-friendly post identifier for SEO"},{"name":"content","type":"VARCHAR","nullable":true,"comment":"Main post content in markdown format"},{"name":"excerpt","type":"VARCHAR","nullable":true,"comment":"Short summary for post previews"},{"name":"status","type":"PostStatus","nullable":false,"default":"'DRAFT'","comment":"Publication status for content workflow"},{"name":"published_at","type":"DATETIME","nullable":true,"comment":"Timestamp when post was published"},{"name":"author_id","type":"INTEGER","nullable":false,"comment":"Author reference for content attribution"},{"name":"view_count","type":"INTEGER","nullable":false,"comment":"Number of times post has been viewed"},{"name":"created_at","type":"DATETIME","nullable":false,"default":"now()","comment":"Post creation timestamp"},{"name":"updated_at","type":"DATETIME","nullable":false,"comment":"Last modification timestamp"}],"constraints":[{"name":"posts_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"posts","columns":["id"]},{"name":"posts_slug_unique","type":"UNIQUE","def":"UNIQUE (slug)","table":"posts","columns":["slug"]}]},{"name":"post_categories","type":"table","columns":[{"name":"post_id","type":"INTEGER","nullable":false},{"name":"category_id","type":"INTEGER","nullable":false},{"name":"is_primary","type":"BOOLEAN","nullable":false},{"name":"added_at","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"post_categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (postId, categoryId)","table":"post_categories","columns":["postId","categoryId"]}]},{"name":"tags","type":"table","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()"},{"name":"name","type":"VARCHAR","nullable":false},{"name":"color","type":"VARCHAR","nullable":true},{"name":"created_at","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"tags_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"tags","columns":["id"]},{"name":"tags_name_unique","type":"UNIQUE","def":"UNIQUE (name)","table":"tags","columns":["name"]}]},{"name":"post_tags","type":"table","columns":[{"name":"post_id","type":"INTEGER","nullable":false},{"name":"tag_id","type":"INTEGER","nullable":false}],"constraints":[{"name":"post_tags_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (postId, tagId)","table":"post_tags","columns":["postId","tagId"]}]},{"name":"comments","type":"table","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()"},{"name":"content","type":"VARCHAR","nullable":false},{"name":"post_id","type":"INTEGER","nullable":false},{"name":"author_id","type":"INTEGER","nullable":false},{"name":"parent_id","type":"INTEGER","nullable":true},{"name":"is_edited","type":"BOOLEAN","nullable":false},{"name":"created_at","type":"DATETIME","nullable":false,"default":"now()"},{"name":"updated_at","type":"DATETIME","nullable":false}],"constraints":[{"name":"comments_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"comments","columns":["id"]}]},{"name":"post_likes","type":"table","columns":[{"name":"user_id","type":"INTEGER","nullable":false},{"name":"post_id","type":"INTEGER","nullable":false},{"name":"liked_at","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"post_likes_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (userId, postId)","table":"post_likes","columns":["userId","postId"]}]},{"name":"follows","type":"table","columns":[{"name":"follower_id","type":"INTEGER","nullable":false},{"name":"following_id","type":"INTEGER","nullable":false},{"name":"followed_at","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"follows_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (followerId, followingId)","table":"follows","columns":["followerId","followingId"]},{"name":"follows_followerId_followingId_unique","type":"UNIQUE","def":"UNIQUE (followerId, followingId)","table":"follows","columns":["followerId","followingId"]}]},{"name":"audit_logs","type":"table","columns":[{"name":"id","type":"VARCHAR","nullable":false,"default":"cuid()"},{"name":"action","type":"VARCHAR","nullable":false},{"name":"table_name","type":"VARCHAR","nullable":false},{"name":"record_id","type":"VARCHAR","nullable":false},{"name":"old_data","type":"JSON","nullable":true},{"name":"new_data","type":"JSON","nullable":true},{"name":"user_id","type":"INTEGER","nullable":true},{"name":"timestamp","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"audit_logs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"audit_logs","columns":["id"]}]},{"name":"system_configs","type":"table","columns":[{"name":"id","type":"INTEGER","nullable":false,"default":"autoincrement()"},{"name":"key","type":"VARCHAR","nullable":false},{"name":"value","type":"VARCHAR","nullable":false},{"name":"type","type":"ConfigType","nullable":false},{"name":"description","type":"VARCHAR","nullable":true},{"name":"is_secret","type":"BOOLEAN","nullable":false},{"name":"updated_at","type":"DATETIME","nullable":false}],"constraints":[{"name":"system_configs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"system_configs","columns":["id"]},{"name":"system_configs_key_unique","type":"UNIQUE","def":"UNIQUE (key)","table":"system_configs","columns":["key"]}]},{"name":"file_uploads","type":"table","columns":[{"name":"id","type":"VARCHAR","nullable":false,"default":"cuid()"},{"name":"filename","type":"VARCHAR","nullable":false},{"name":"original_name","type":"VARCHAR","nullable":false},{"name":"mime_type","type":"VARCHAR","nullable":false},{"name":"size","type":"BIGINT","nullable":false},{"name":"path","type":"VARCHAR","nullable":false},{"name":"uploaded_by","type":"INTEGER","nullable":false},{"name":"uploaded_at","type":"DATETIME","nullable":false,"default":"now()"}],"constraints":[{"name":"file_uploads_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"file_uploads","columns":["id"]}]}],"relations":[{"table":"user_profiles","columns":["user_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (userId) REFERENCES users(id)"},{"table":"categories","columns":["parent_id"],"cardinality":"zero_or_one","parent_table":"categories","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (parentId) REFERENCES categories(id)"},{"table":"posts","columns":["author_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (authorId) REFERENCES users(id)"},{"table":"post_categories","columns":["post_id"],"cardinality":"exactly_one","parent_table":"posts","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (postId) REFERENCES posts(id)"},{"table":"post_categories","columns":["category_id"],"cardinality":"exactly_one","parent_table":"categories","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (categoryId) REFERENCES categories(id)"},{"table":"post_tags","columns":["post_id"],"cardinality":"exactly_one","parent_table":"posts","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (postId) REFERENCES posts(id)"},{"table":"post_tags","columns":["tag_id"],"cardinality":"exactly_one","parent_table":"tags","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (tagId) REFERENCES tags(id)"},{"table":"comments","columns":["post_id"],"cardinality":"exactly_one","parent_table":"posts","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (postId) REFERENCES posts(id)"},{"table":"comments","columns":["author_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (authorId) REFERENCES users(id)"},{"table":"comments","columns":["parent_id"],"cardinality":"zero_or_one","parent_table":"comments","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (parentId) REFERENCES comments(id)"},{"table":"post_likes","columns":["user_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (userId) REFERENCES users(id)"},{"table":"post_likes","columns":["post_id"],"cardinality":"exactly_one","parent_table":"posts","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (postId) REFERENCES posts(id)"},{"table":"follows","columns":["follower_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (followerId) REFERENCES users(id)"},{"table":"follows","columns":["following_id"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (followingId) REFERENCES users(id)"},{"table":"file_uploads","columns":["uploaded_by"],"cardinality":"exactly_one","parent_table":"users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (uploadedBy) REFERENCES users(id)"}],"enums":[{"name":"post_status","values":["ARCHIVED","DELETED","DRAFT","PUBLISHED"]},{"name":"config_type","values":["BOOLEAN","JSON","NUMBER","STRING"]}],"driver":{"name":"prisma","database_version":"1.0.0"},"viewpoints":[{"name":"comments on post","desc":"Users can comment on each post multiple times and put a star on each comment.","tables":["users","posts","comments"]}]}
